# Extracted content
Source: subjects/Dbd/Prácticas/Práctica 2/esquema.sql

/*Eliminación de las tablas en caso de que existan*/
DROP TABLE docencia cascade constraints PURGE;
DROP TABLE asg_master cascade constraints PURGE;
DROP TABLE asignatura cascade constraints PURGE;
DROP TABLE profesor cascade constraints PURGE;
DROP TABLE departamento cascade constraints PURGE;

/*Creación de la tabla DEPARTAMENTO*/
CREATE TABLE departamento(
cod_dep CHAR(5) NOT NULL CONSTRAINT cp_dep PRIMARY KEY DEFERRABLE INITIALLY IMMEDIATE,
nombre VARCHAR(40) NOT NULL,
director VARCHAR(20),
telefono CHAR(15));

/*Creación de la tabla PROFESOR*/
CREATE TABLE profesor(
cod_pro CHAR(5)  NOT NULL CONSTRAINT cp_prof PRIMARY KEY DEFERRABLE INITIALLY IMMEDIATE,
nombre VARCHAR(40) NOT NULL,
telefono CHAR(15),
cod_dep CHAR(5) CONSTRAINT ca_prof_dep REFERENCES departamento(cod_dep) DEFERRABLE INITIALLY IMMEDIATE);

/*Creación de la tabla ASIGNATURA*/
CREATE TABLE asignatura(
cod_asg CHAR(5) NOT NULL CONSTRAINT cp_asi PRIMARY KEY DEFERRABLE INITIALLY IMMEDIATE,
nombre VARCHAR(40) NOT NULL CONSTRAINT nom_asg_unico UNIQUE,
semestre CHAR(2) NOT NULL,
teoria number(3,1) NOT NULL,
prac number(3,1) NOT NULL,
cod_dep CHAR(5) CONSTRAINT ca_asi_dep REFERENCES departamento(cod_dep) DEFERRABLE INITIALLY IMMEDIATE);

/*Creación de la tabla ASG_MASTER*/
CREATE TABLE asg_master
(cod_asg CHAR(5) NOT NULL CONSTRAINT cp_asi_master PRIMARY KEY DEFERRABLE INITIALLY IMMEDIATE
CONSTRAINT ca_asi_mas REFERENCES asignatura(cod_asg) DEFERRABLE INITIALLY IMMEDIATE,
nom_master VARCHAR2(30 BYTE) NOT NULL);

/*Creación de la tabla DOCENCIA*/
CREATE TABLE docencia(
cod_pro CHAR(5) NOT NULL CONSTRAINT ca_doc_prof REFERENCES profesor(cod_pro) DEFERRABLE INITIALLY IMMEDIATE,
cod_asg CHAR(5) NOT NULL CONSTRAINT ca_doc_asi REFERENCES asignatura(cod_asg) DEFERRABLE INITIALLY IMMEDIATE,
gteo number(2) NOT NULL,
gprac number(2) NOT NULL,
CONSTRAINT cp_doc PRIMARY KEY(cod_pro, cod_asg) DEFERRABLE INITIALLY IMMEDIATE);
