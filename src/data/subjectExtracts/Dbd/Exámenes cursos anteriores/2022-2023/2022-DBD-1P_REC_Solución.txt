# Extracted content
Source: subjects/Dbd/Exámenes cursos anteriores/2022-2023/2022-DBD-1P_REC_Solución.pdf

### Page 1
Recuperación 1er Parcial de Diseño y Gestión de Bases de Datos (01/02/2023)
APELLIDOS, NOMBRE:
NOMBRE:
1. (0,4 puntos)  Dados los dos diagramas de la página siguiente , contesta las siguientes
preguntas justificando brevemente las respuestas:

a. ¿Cómo se identifican las ocurrencias de la clase Comentario  en cada uno de los
diagramas?
Diagrama 1.  El identificador de la clase Comentario  estará formado por cuatro
atributos: Comentario.num, Usuario.código, Versión.número y Aplicación.nombre


Diagrama 2. El identificador de la clase Comentario estará formado únicamente por el
atributo num de Comentario


b. ¿Cómo se identifican las ocurrencias de la asociación realiza  en el Diagrama 2? Si hay
más de una posibilidad, indícalas todas.
Opción 1: Comentario.num, Versión.número y Aplicación.nombre


Opción 2: Comentario.num, Usuario.código



c. ¿Cuántas descargas de una misma versión puede realizar un mismo usuario en el
diagrama 1?

Tantas como quiera, siempre que sea en fechas distintas



d. Un determinado comentario, ¿con cuántas versiones se puede asociar en cada uno de
los diagramas?

Diagrama 1: con una única versión
Diagrama 2: con muchas
![Page 1, Figure 1](../../public/subject-assets/Dbd/Exámenes cursos anteriores/2022-2023/2022-DBD-1P_REC_Solución/2022-DBD-1P_REC_Solución_page_001.png)

### Page 2
Recuperación 1er Parcial de Diseño y Gestión de Bases de Datos (01/02/2023)
![Page 2, Figure 1](../../public/subject-assets/Dbd/Exámenes cursos anteriores/2022-2023/2022-DBD-1P_REC_Solución/2022-DBD-1P_REC_Solución_page_002_img_001.png)
![Page 2, Figure 2](../../public/subject-assets/Dbd/Exámenes cursos anteriores/2022-2023/2022-DBD-1P_REC_Solución/2022-DBD-1P_REC_Solución_page_002_img_002.png)

### Page 3
Recuperación 1er Parcial de Diseño y Gestión de Bases de Datos (01/02/2023)

2. (0,35 puntos) Dada la relación Versiones  y las dependencias funcionales que se indican,
transforma la relación en un conjunto de relaciones que estén en 3FN General.

Versiones(nombre_app:string, descripción: string, categorías: conjunto de strings, versión:
int, nombre_ver: string, precio: float, fecha_lanzamiento: date, rango: string)



Versiones(nombre_app:string, versión: int, nombre_ver: string, precio: float,
fecha_lanzamiento: date)
CP:{nombre_app, versión}
C.Aj:{nombre_app} App
C.Aj:{precio} Precios

App(nombre_app:string, descripción: string)
CP:{nombre_app}
RI1. Todo valor de nombre_app de App, debe aparecer en nombre_app de Versiones

Categoría(nombre_app:string, categoría: string)
CP:{nombre_app,categoría}
C.Aj: {nombre_app} App

Precios(precio: float, rango: string)
CP:{precio}
RI3. Todo valor de precio de Precios, debe aparecer en precio de  Versiones
![Page 3, Figure 1](../../public/subject-assets/Dbd/Exámenes cursos anteriores/2022-2023/2022-DBD-1P_REC_Solución/2022-DBD-1P_REC_Solución_page_003_img_001.png)

### Page 4
Recuperación 1er Parcial de Diseño y Gestión de Bases de Datos (01/02/2023)
Cada una de las 10 cuestiones siguientes vale 0,125 puntos. Cada cuestión mal contestada resta 1/3 de una respuesta
correcta. Nota Test = (0,125 × Respuestas_correctas) − ((0,125/3) × Respuestas_incorrectas)
1. Indica cuál de las siguientes afir maciones NO es uno de los pasos seguidos por el SGBD para satisfacer una
operación de consulta de un usuario:
a. El SGBD consulta los esquemas de la base de datos para traducir la consulta del usuario en una petición de
lectura de bloques del disco.
b. El SGBD transfiere los datos solicitados por el usuario de los bloques en memoria principal al área de trabajo
de la herramienta desde la que se realizó la consulta.
c. El SGBD solicita la escritura en disco de los bloques de los búfers de memoria principal, para de esta forma
actualizar la base de datos.
d. El SGBD solicita la ejecución de las operaciones de lectura de los bloques de disco que contienen los datos
solicitados por el usuario.
2. Un bloque que está en memoria principal y tiene su bit_sucio=1 y su bit_reserva=1 quiere decir que:
a. El bloque ha sido modificado y puede llevarse a disco en cualquier momento.
b. El bloque ha sido modificado y todavía no se puede llevar a disco.
c. El bloque no ha sido modificado y se puede llevar a disco en cualquier momento.
d. El bloque no ha sido modificado y no se puede llevar todavía a disco.
3. Indica cuál de las siguientes afirmaciones es FALSA:
a. Los cambios producidos por una transacción que se ejecuta correctamente quedan grabados
permanentemente en la base de datos.
b. Una transacción ejecutada correctamente puede no tener ningún efecto sobre la base de datos.
c. Una transacción procesada correctamente puede haber realizado cambios en la base de datos que no sean
permanentes.
d. Una transacción  que terminada con la instrucción Rollback es una tr ansacción que no se ha procesado
correctamente.
4. En la estrategia de actualización de la base de datos Inmediata- Forzar:
a. Las restricciones de integridad se comprueban siempre en modo inmediato.
b. Los bloques de datos actualizados por la transacción deben ser llevados a disco de forma inmediata tras realizar
la modificación, sin esperar a que la transacción termine.
c. Si una transacción realiza una operación de modificación que viola una restricción de integridad de
comprobación inmediata, los cambios realizados por esta operación nunca serán llevados a disco.
d. Los bloques de datos actualizados por las transacciones en memoria principal solo se pueden transferir a disco
cuando el SGBD confirme definitivamente la transacción.
5. Una transacción confirmada parcialmente:
a. Está confirmada por el usuario y por tanto los cambios que haya realizado son permanentes.
b. Puede ser anulada posteriormente por el mismo usuario que la está ejecutando.
c. Sólo puede ser anulada por SGBD.
d. Está confirmada por el SGBD a la espera de validar las restricciones de integridad.
![Page 4, Figure 1](../../public/subject-assets/Dbd/Exámenes cursos anteriores/2022-2023/2022-DBD-1P_REC_Solución/2022-DBD-1P_REC_Solución_page_004.png)

### Page 5
Recuperación 1er Parcial de Diseño y Gestión de Bases de Datos (01/02/2023)
6. Una restricción definida como Diferida:
a. No se puede cambiar al modo inmediato y siempre se comprueba al finalizar la transacción.
b. En caso de que se viole, la operación que la ha violado será abortada pero el resto de modificaciones realizadas
por la transacción serán permanentes.
c. Su violación durante la ejecución de una transacción puede suponer que no se cumpla la propiedad de
atomicidad.
d. Supone que la propiedad representada por la restricción de integridad puede no  estar cumpliéndose cuando
la transacción alcanza el commit.
7. Dado el diario que se muestra a continuación, si después de la última anotación de escritura se da un fallo del
sistema (pérdida de memoria principal), indica cuál de las opciones es CIERTA:
Diario:
[punto de control]
[inicio, T3]
[leer, T3, B]
[escribir, T3, B, 15, 12]
[anular, T3]
[inicio, T2]
[leer, T2, B]
[escribir, T2, B, 15, 18]
[confirmar, T2]
[inicio, T1]
[leer, T1, D]
[escribir, T1, D, 20, 25]
leer, T1, B]
[anular, T1]
[inicio, T4]
[leer, T4, D]
[escribir, T4, D, 20, 12]
Fallo del sistema (con pérdida de memoria principal)

a. Si la estrategia de actualización es Inmediata-No Forzar hay que deshacer T4 y rehacer T2
b. Si la estrategia de actualización es Inmediata-Forzar hay que deshacer T4, T3 y T1 y rehacer T2
c. Si la estrategia de actualización es Diferida-Forzar hay que rehacer T2
d. Si la estrategia de actualización es Diferida-No Forzar hay que deshacer T3 y T1 y rehacer T2
![Page 5, Figure 1](../../public/subject-assets/Dbd/Exámenes cursos anteriores/2022-2023/2022-DBD-1P_REC_Solución/2022-DBD-1P_REC_Solución_page_005.png)

### Page 6
Recuperación 1er Parcial de Diseño y Gestión de Bases de Datos (01/02/2023)
8. Dado el diario que se muestra a continuación, si después de la última anotación de escritura se da un fallo del
sistema (pérdida de memoria principal), ¿Cuál es el valor de los elementos de datos actualizados por las cuatro
transacciones después de la recuperación?:
Diario:
[inicio, T3]
[leer, T3, B]
[escribir, T3, B, 15, 12]
[anular, T3]
[inicio, T2]
[leer, T2, B]
[escribir, T2, B, 15, 18]
[confirmar, T2]
[inicio, T1]
[leer, T1, D]
[escribir, T1, D, 20, 25]
leer, T1, B]
[anular, T1]
[inicio, T4]
[leer, T4, D]
[escribir, T4, D, 20, 12]
Fallo del sistema (con pérdida de memoria principal)
a. B:18 y D:12
b. B:18 y D:20
c. B:15 y D:20
d. B:15 y D:12
9. Indica cuál de las siguientes afirmaciones es FALSA:
a. En la estrategia de actualización Diferida-No Forzar, se permite la transferencia a disco de bloques con cambios
realizados por la transacción antes de finalizar la transacción.
b. En la estrategia de actualización en la sombra, cuando un bloque se transfiere, de memoria principal a disco,
se escribe en una dirección distinta a la que ocupaba antes de ser leído.
c. En la estrategia de actualización en el lugar, cuando el bloque se transfiere a disco, se reescribe su contenido
y se pierde el valor anterior de todos sus elementos de datos que han sido actualizados.
d. En la estrategia Inmediata-Forzar, los bloques actualizados por una transacción, que no hayan sido transferidos
todavía a disco, serán transferidos antes de confirmar definitivamente (SGBD) la transacción.
10. Indica cuál de las siguientes afirmaciones es FALSA:
a. El principio de Escritura Anticipada en el Diario  obliga a que, antes de que un bloque actualizado por una
transacción sea transferido a disco, el contenido del buffer de diario, que contiene las entradas
correspondientes a actualizaciones del bloque, sea grabado en el fichero de diario en disco.
b. El principio de F orzar la E scritura del D iario obliga a que, antes de que una transacción sea confirmada
definitivamente por el SGBD, el contenido del buffer de diario, que contiene las entradas correspondientes a
la transacción, sea grabado en el fichero de diario en disco.
c. El principio de F orzar la Escritura del Diario asegura que, en caso de producirse un fallo después de la
confirmación (SGBD), la transacción podrá rehacerse.
d. El principio de Escritura Anticipada en el Diario asegura que, en caso de producirse un fallo des pués de la
confirmación (SGBD), la transacción podrá deshacerse.
![Page 6, Figure 1](../../public/subject-assets/Dbd/Exámenes cursos anteriores/2022-2023/2022-DBD-1P_REC_Solución/2022-DBD-1P_REC_Solución_page_006.png)
