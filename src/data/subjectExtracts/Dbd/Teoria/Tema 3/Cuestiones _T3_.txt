# Extracted content
Source: subjects/Dbd/Teoria/Tema 3/Cuestiones _T3_.pdf

### Page 1
1
Diseño y Gestión de Bases de Datos
Ejercicios Tema 3
1. Explica cómo se clasifican las estrategias de actualización en bases de datos. Como ayuda debes
proporcionar los nombres que faltan en la siguiente figura y explicar lo que significa cada uno de ellos:

2. Supóngase que la estrategia de actualización de la BD es en el lugar, inmediata, no forzar y que el fichero
de diario en un SGBD tiene las siguientes entradas:
Diario:
[inicio, T3]
[leer, T3, B]
[escribir, T3, B, 15, 12]
[anular, T3]
[inicio, T2]
[leer, T2, B]
[escribir, T2, B, 15, 18]
[confirmar, T2]
[inicio, T1]
[leer, T1, D]
[escribir, T1, D, 20, 25]
leer, T1, B]
[anular, T1]
[inicio, T4]
[leer, T4, D]
[escribir, T4, D, 20, 12]
Fallo del sistema (con pérdida de memoria principal)
a. ¿Qué algoritmo de recuperación se aplicará? Aplícalo al ejemplo.
b. ¿Qué valores de los elementos de datos lee cada transacción en sus operaciones de lectura?
c. ¿Cuál es el valor de los elementos de datos antes de que se inicie T3?
d. ¿Cuál es el valor de los elementos de datos después de la recuperación de la base de datos?
![Page 1, Figure 1](../../public/subject-assets/Dbd/Teoria/Tema 3/Cuestiones _T3_/Cuestiones _T3__page_001_img_001.png)
![Page 1, Figure 2](../../public/subject-assets/Dbd/Teoria/Tema 3/Cuestiones _T3_/Cuestiones _T3__page_001_img_002.png)
![Page 1, Figure 3](../../public/subject-assets/Dbd/Teoria/Tema 3/Cuestiones _T3_/Cuestiones _T3__page_001_img_003.png)
![Page 1, Figure 4](../../public/subject-assets/Dbd/Teoria/Tema 3/Cuestiones _T3_/Cuestiones _T3__page_001_img_004.png)

### Page 2
Departamento de Sistemas Informáticos y Computación
          2
3. Supóngase que la estrategia de actualización de la BD es en el lugar, diferida, no forzar y que el fichero de
diario en un SGBD tiene las siguientes entradas:
Diario:
[inicio, T1]
[leer, T1, A]
[leer, T1, D]
[escribir, T1, D, 12, 20]
[confirmar, T1]
[punto de control]
[inicio, T2]
[leer, T2, B]
[escribir, T2, B, 5, 12]
[leer, T2, D]
[escribir, T2, D, 20, 25]
[confirmar, T2]
[inicio, T3]
[leer, T2, B]
[escribir, T3, C, 3, 13]
[anular, T3]
[inicio, T4]
[leer, T4, A]
[escribir, T4, A, 21, 20]
Fallo del sistema (con pérdida de memoria principal)
a. ¿Qué algoritmo de recuperación se aplicará? Aplícalo al ejemplo.
b. ¿Cuál será el valor de los elementos de datos antes del inicio de T1?
c. ¿Cuál será el valor de los elementos de datos después de la recuperación de la base de datos?
4. Dadas las tres herramientas disponibles para la recuperación de la información en un sistema de bases de
datos indica con SÍ/NO si serían necesarias o no para cada una de las estrategias de actualización. En la
última columna indica qué algoritmo de recupe ración se utilizaría en cada una de las estrategias ante
cualquier fallo.
 Copia de
Seguridad Diario Puntos de
Control
Algoritmo de
 Recuperación
Inmediata-No Forzar
Inmediata-Forzar
Diferida-No Forzar
Diferida-Forzar
5. Observa el siguiente ejemplo:
![Page 2, Figure 1](../../public/subject-assets/Dbd/Teoria/Tema 3/Cuestiones _T3_/Cuestiones _T3__page_002_img_001.png)

### Page 3
Departamento de Sistemas Informáticos y Computación
          3
En él se muestra la ejecución de dos transacciones T1 y T2: actualizaciones en los bloques de datos B1 y B2
en el búfer de datos, e inserciones en el búfer de diario.
a. Explica cuándo actúan los dos principios del algoritmo de gestión del fichero de diario y en qué
consisten. (Usa intervalos de tiempo para indicarlo, ejemplo: en un instante t, t3<t<t4).
b. Explica, en el ejemplo, para qué sirve la ejecución de cada uno de esos dos principios.
6. En el diagrama de más abajo se muestran las últimas transacciones ejecutadas en el sistema. En el instante
tj se produce un fallo . Este fallo obliga al SGBD a realizar tareas de recuperación cuando se vuelve a
arrancar el sistema. Para cada uno de los supuestos siguientes índica qué haría el SGBD para cada
transacción en cada una de las cuatro estrategias posibles de actualización:
a. El fallo supone la pérdida de memoria principal.
b. El fallo supone la pérdida de la memoria secundaria donde está almacenada la base de datos, pero
la copia del diario en disco no se ha perdido.
c. El fallo supone la pérdida de la memoria secundaria donde está almacenada la base de datos y
también se ha perdido la copia del diario en disco.

7. Dadas dos transacciones T1 y T2, y un elemento de datos X cuyo último valor confirmado es 5. Asumiendo
que inicialmente los búfers de datos en memoria principal están vacíos, resuelve los siguientes apartados:
a. Rellena las celdas en blanco de la tabla de abajo , indicando para cada una de las estrategias de
actualización, qué valor contendría el elemento X en el búfer de datos y en disco en cada instante de
tiempo (en caso de que haya más de un valor posible ind ícalos todos). En cada momento se debe
mostrar el valor (o valores) después de ejecutar la operación (el subíndice de la operación indica la
transacción que la realiza).
  Inmediata-No Forzar Inmediata-Forzar Diferida-No Forzar Diferida-Forzar
Tiempo Op. Búfer Disco Búfer Disco Búfer Disco Búfer Disco
t0 r1(X)
t1 X←X+3
t2 w1(X)
t3 c1
t4 r2(X)
t5 X←7
t6 w2(X)
![Page 3, Figure 1](../../public/subject-assets/Dbd/Teoria/Tema 3/Cuestiones _T3_/Cuestiones _T3__page_003_img_001.png)

### Page 4
Departamento de Sistemas Informáticos y Computación
          4
b. Si en el instante t 7 se produce un fallo del sistema con pérdida de MP, indica qu é tarea de
recuperación se ejecutaría para cada transacción en cada una de las estrategias.
  Inmediata-No Forzar Inmediata-Forzar Diferida-No Forzar Diferida-Forzar
Tiempo Op. T1 T2 T1 T2 T1 T2 T1 T2
t7 Fallo
c. Indica qué valor de X contend rían el búfer y el disco después de la recuperación en cada una de las
estrategias. En caso de que haya más de un valor posible indícalos todos.
 Inmediata-No Forzar Inmediata-Forzar Diferida-No Forzar Diferida-Forzar
Tiempo Búfer Disco Búfer Disco Búfer Disco Búfer Disco
t8
![Page 4, Figure 1](../../public/subject-assets/Dbd/Teoria/Tema 3/Cuestiones _T3_/Cuestiones _T3__page_004.png)
